# Maintainer: Matt Spaulding <matt@mattops.io>

pkgname=gdm-tools-git
pkgver=73.d20c840
pkgrel=1
pkgdesc="Tools for theming Gnome Login Manager (GDM)"
arch=(any)
url="https://github.com/realmazharhussain/gdm-tools"
license=('GPL3')
depends=('bash' 'dconf-cli' 'libglib2.0-dev' 'gdm3')
provides=('gdm-tools' 'set-gdm-theme' 'gnomeconf2gdm')
backup=('etc/gdm-tools/set-gdm-theme.conf' 'etc/gdm-tools/custom.css')
source=("$pkgname"::'git+https://github.com/realmazharhussain/gdm-tools.git')
md5sums=('SKIP')

pkgver() {
  cd "${srcdir}/${pkgname}"
  echo $(git rev-list --count HEAD).$(git rev-parse --short HEAD)
}

package() {
  cd "${srcdir}/${pkgname}"
  DESTDIR="$pkgdir" PREFIX=/usr ./install.sh
  cp -r ./libalpm "${pkgdir}"/usr/share/
}
