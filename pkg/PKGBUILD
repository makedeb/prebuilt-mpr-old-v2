# Maintainer: only_vip  <onlyme_vip@protonmail.com>
pkgname=planner
pkgver=2.7
pkgrel=1
pkgdesc="Task manager with Todoist support designed for GNU/Linux rocket"
arch=('any')
url="https://github.com/alainm23/planner"
license=( 'GPL3')
depends=('elementary-icons' 'elementary-stylesheet')
#buster_depends=(${depends[@]} 'libpcre2-posix0' 'libverto-libev1' )
#focal_depends=(${depends[@]} 'libpcre2-posix2' 'libverto-libevent1')
#groovy_depends=(${depends[@]} 'libpcre2-posix2' 'libverto-libevent1')
#hirsute_depends=(${depends[@]} 'libpcre2-posix2' 'libverto-libevent1')
depends=('libgtk-3-dev' 'libgee-0.8-dev' 'libjson-glib-dev' 'libsqlite3-dev' 'libsoup2.4-dev' 'libgranite-dev' 'libwebkit2gtk-4.0-dev' 'libecal2.0-dev' 'libedataserver1.2-dev' 'libpeas-dev' 'libical-dev' 'libhandy-1-0' 'meson' 'valac' 'libhandy-1-dev' 'libgdata-dev' 'gettext' 'evolution-data-server' 'gnome-settings-daemon')
provides=('planner')
conflicts=('planner')
# replaces=('planner')
source=("${url}/archive/refs/tags/${pkgver}.tar.gz")
sha512sums=('162e036166820e80e4cd28980670f09462fd608c3feb486e5d89b1073c7d4568595cf2373ddc3918c4cc80fb02ae123e3de7382643f19efe72b74380c851b9b2')
options=(!strip)

build() {
  cd ${srcdir}/${pkgname}-${pkgver}
  meson build --prefix=/usr
  cd build
  ninja 
}

package() {
  cd ${srcdir}/${pkgname}-${pkgver}/build
  DESTDIR=${pkgdir} ninja install
}
