# Maintainer:  only_vip <onlyme_vip@protonmail.com>
pkgname=lite-xl
pkgver=2.0.5
pkgrel=2
pkgdesc='A lightweight text editor written in Lua'
arch=('amd64')
url="https://lite-xl.github.io"
license=('MIT')
depends=('libagg-dev' 'liblua5.2-dev' 'libsdl2-dev' 'libfreetype6-dev' 'reproc' 'ninja-build')
makedepends=('meson')
conflicts=("lite")
provides=("lite")
# replaces=("lite")
source=("${pkgname}-${pkgver}.tar.gz::https://github.com/${pkgname}/${pkgname}/archive/v${pkgver}.tar.gz")
sha512sums=('ead8ab036f60d98dc495d318e14a5c473333d897e88a37d09f543dfd2b76eacf206447b5a6e132acaa267431655b8275eb9dfddbbfdf9561cb3bcdbe1eff2057')
b2sums=('17d43ca76dd0266916e391eaa9bf6a63c6ecba00a3850431513161ede4f06d900a342d2214ad71360144b5e0ccace7c4f7523a9136394b405a24e81f93550b26')

build() {
    cd "${pkgname}-${pkgver}"
    #arch-meson build --wrap-mode=default
    meson build --wrap-mode=default
    meson compile -C build
    }

package() {
    cd "${pkgname}-${pkgver}"
    DESTDIR="${pkgdir}" meson install -C build
    install -Dm 644 "LICENSE" -t "${pkgdir}/usr/share/licenses/${pkgname}"
}
